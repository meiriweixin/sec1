#!/usr/bin/env python3
"""
Add Chinese content translations to History chapters
"""

import json
import os
from datetime import datetime

def create_backup(filepath):
    """Create a backup of the original file"""
    timestamp = datetime.now().strftime('%Y%m%d_%H%M%S')
    backup_path = f"src/data/content-backup-history-zh-{timestamp}.json"
    
    with open(filepath, 'r', encoding='utf-8') as f:
        data = json.load(f)
    
    with open(backup_path, 'w', encoding='utf-8') as f:
        json.dump(data, f, ensure_ascii=False, indent=2)
    
    print(f"ğŸ“¦ Created backup: {backup_path}")
    return backup_path

def add_chinese_content():
    """Add Chinese content to History chapter sections"""
    
    content_path = 'src/data/content.json'
    
    # Create backup
    create_backup(content_path)
    
    # Load content
    with open(content_path, 'r', encoding='utf-8') as f:
        data = json.load(f)
    
    # Find History subject
    history_subject = None
    for subject in data['subjects']:
        if subject['id'] == 'history':
            history_subject = subject
            break
    
    if not history_subject:
        print("âŒ History subject not found!")
        return
    
    # Chinese translations for the first chapter's sections
    chinese_content = {
        "sparking-curiosity-temasek": """**ä½ æœ‰æ²¡æœ‰æƒ³è¿‡ä¸ºä»€ä¹ˆæ–°åŠ å¡è¢«ç§°ä¸º"ç‹®åŸ"ï¼Ÿ**

åœ¨æ‘©å¤©å¤§æ¥¼å’Œç°ä»£æ¸¯å£å‡ºç°ä¹‹å‰ï¼Œæ–°åŠ å¡è¢«ç§°ä¸º**æ·¡é©¬é”¡**ï¼ˆTemasekï¼‰ï¼Œåœ¨çˆªå“‡è¯­ä¸­æ„ä¸º"æµ·åŸ"ã€‚æ ¹æ®**é©¬æ¥çºªå¹´**ï¼ˆSejarah Melayuï¼‰ï¼Œä¸€ä½åå«å±±å°¼æ‹‰ä¹Œè¾¾ç›çš„è‹é—¨ç­”è…Šç‹å­çœ‹åˆ°äº†ä¸€åªä»–è®¤ä¸ºæ˜¯ç‹®å­çš„å¥‡æ€ªåŠ¨ç‰©ï¼Œäºæ˜¯å°†è¿™ä¸ªå²›æ”¹åä¸º**æ–°åŠ å¡**ï¼ˆSingapuraï¼‰ï¼Œåœ¨æ¢µè¯­ä¸­æ„ä¸º"ç‹®åŸ"ã€‚

ä½†è¿™é‡Œæœ‰ä¸€ä¸ªè°œå›¢ï¼š**ä¸ºä»€ä¹ˆæ¥è‡ªä¸­å›½ã€å°åº¦å’Œä¸­ä¸œçš„å•†äººä¼šä¸è¿œåƒé‡Œæ¥åˆ°è¿™ä¸ªå°å²›åœç•™ï¼Ÿ**

**å€¼å¾—æ€è€ƒçš„å…³é”®é—®é¢˜ï¼š**
- æ–°åŠ å¡çš„åœ°ç†ä½ç½®å¯¹å¤ä»£å•†äººæœ‰ä»€ä¹ˆç‰¹æ®Šä¹‹å¤„ï¼Ÿ
- æ—©æœŸçš„æ–°åŠ å¡å¦‚ä½•è¿æ¥äºšæ´²å„åœ°ï¼Ÿ

è®©æˆ‘ä»¬ç©¿è¶Šæ—¶ç©ºï¼Œæ­å¼€æ—©æœŸæ–°åŠ å¡åœ¨ç¹å¿™çš„äºšæ´²è´¸æ˜“ç½‘ç»œä¸­æ‰€æ‰®æ¼”è§’è‰²çš„ç§˜å¯†ã€‚""",
        
        "gathering-evidence-sources": """è¦äº†è§£æ—©æœŸæ–°åŠ å¡çš„å†å²ï¼Œå†å²å­¦å®¶ä¾é å„ç§æ¥æºï¼š

**1. è€ƒå¤è¯æ®**
- åœ¨åœ£çº¦ç¿°å²›å’Œä¹Œæ•å²›å‘ç°çš„14ä¸–çºª**ä¸­å›½é™¶ç“·å’Œç¡¬å¸**
- æ–°åŠ å¡æ²³å£çš„**å¤ä»£ç å¤´é—è¿¹**
- **é‡‘é¥°å“å’Œç»ç’ƒç **ï¼Œè¡¨æ˜ä¸é˜¿æ‹‰ä¼¯å’Œå°åº¦å•†äººçš„è´¸æ˜“

**2. ä¹¦é¢è®°å½•**

**ä¸­å›½æ–‡çŒ®ï¼š**
- **ã€Šå²›å¤·å¿—ç•¥ã€‹** (1349å¹´) - ç‹å¤§æ¸Šæè¿°æ·¡é©¬é”¡ä¸º"é¾™ç‰™é—¨"
- æè¿°æ·¡é©¬é”¡ä½œä¸ºä¸­å›½å•†äººçš„åœé æ¸¯
- æåˆ°å²›ä¸ŠèŒ‚å¯†çš„ä¸›æ—å’Œå°å‹å®šå±…ç‚¹

**é©¬æ¥æ–‡çŒ®ï¼š**
- **ã€Šé©¬æ¥çºªå¹´ã€‹**ï¼ˆSejarah Melayuï¼‰- è®°å½•äº†ç‹®åŸç‹å›½å’Œé©¬æ¥ç»Ÿæ²»è€…
- æ·¡é©¬é”¡ä½œä¸ºé‡è¦æ¸¯å£ï¼Œåæ¥è¢«æš¹ç½—ï¼ˆæ³°å›½ï¼‰ä¾µç•¥

**è‘¡è„ç‰™åœ°å›¾ï¼ˆ16ä¸–çºªï¼‰ï¼š**
- æ˜¾ç¤º"Cincapura"ä½œä¸ºé©¬å…­ç”²æµ·å³¡çš„åœé ç‚¹

**3. å£è¿°å†å²**
- é©¬æ¥ç¤¾åŒºæµä¼ ä¸‹æ¥çš„æ•…äº‹å’Œä¼ è¯´
- å…³äºæ·¡é©¬é”¡ä½œä¸ºè´¸æ˜“ä¸­å¿ƒçš„è®°å¿†

**å†å²å­¦å®¶å¦‚ä½•ä½¿ç”¨è¿™äº›æ¥æºï¼Ÿ**
- **éªŒè¯**ï¼šäº¤å‰æ£€æŸ¥ä¸åŒæ¥æºä»¥ç¡®è®¤äº‹å®
- **èƒŒæ™¯åŒ–**ï¼šç†è§£æ¥æºçš„åˆ›å»ºæ—¶é—´å’ŒåŸå› 
- **æ‰¹åˆ¤æ€§æ€è€ƒ**ï¼šä½œè€…çš„åè§æˆ–ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿ

é€šè¿‡ä»”ç»†ç ”ç©¶è¿™äº›æ¥æºï¼Œå†å²å­¦å®¶æ‹¼å‡‘å‡ºæ—©æœŸæ–°åŠ å¡åœ¨äºšæ´²è´¸æ˜“ä¸­æ‰€æ‰®æ¼”è§’è‰²çš„ç”»é¢ã€‚""",
        
        "exercising-reasoning-strategic-location": """**ä¸ºä»€ä¹ˆæ·¡é©¬é”¡æˆä¸ºè´¸æ˜“æ¢çº½ï¼Ÿ**

æ—©æœŸæ–°åŠ å¡ï¼ˆæ·¡é©¬é”¡ï¼‰çš„æˆåŠŸåŸºäºå…¶**æˆ˜ç•¥åœ°ç†ä½ç½®**ï¼š

**1. é©¬å…­ç”²æµ·å³¡çš„åå­—è·¯å£**

æ·¡é©¬é”¡ä½äºä»¥ä¸‹åœ°åŒºä¹‹é—´ï¼š
- **ä¸­å›½**ï¼ˆä¸œéƒ¨ï¼‰- ä¸ç»¸ã€ç“·å™¨ã€èŒ¶å¶
- **å°åº¦**ï¼ˆè¥¿éƒ¨ï¼‰- é¦™æ–™ã€çººç»‡å“ã€å®çŸ³
- **ä¸œå—äºš**ï¼ˆå—éƒ¨ï¼‰- é¦™æ–™ï¼ˆä¸é¦™ã€è‚‰è±†è”»ï¼‰ã€æ£®æ—äº§å“
- **é˜¿æ‹‰ä¼¯ä¸–ç•Œ**ï¼ˆè¿œè¥¿ï¼‰- é¦™æ°´ã€ç»ç’ƒã€é‡‘å±åˆ¶å“

**2. å­£é£é£å‘ä¼˜åŠ¿**

å¤ä»£å•†äººä¾é **å­£é£**è¿›è¡Œèˆªè¡Œï¼š
- **ä¸œåŒ—å­£é£**ï¼ˆ11æœˆ-3æœˆï¼‰ï¼šä»ä¸­å›½å‘è¥¿å—èˆªè¡Œ
- **è¥¿å—å­£é£**ï¼ˆ5æœˆ-9æœˆï¼‰ï¼šä»å°åº¦å‘ä¸œåŒ—èˆªè¡Œ

æ·¡é©¬é”¡æ˜¯å•†äºº**ç­‰å¾…é£å‘æ”¹å˜**çš„ç†æƒ³åœé ç‚¹ï¼

**3. è‡ªç„¶è‰¯æ¸¯**
- **å—ä¿æŠ¤çš„æ¸¯å£**ï¼šå—åˆ°è¾ƒå¤§å²›å±¿çš„ä¿æŠ¤ï¼Œå…å—é£æš´ä¾µè¢­
- **æ·±æ°´**ï¼šå¤§å‹èˆ¹åªå¯ä»¥å®‰å…¨åœé 
- **æ·¡æ°´**ï¼šé™„è¿‘çš„æ²³æµæä¾›æ·¡æ°´ä¾›åº”

**4. ä¸­ç«‹å¸‚åœº**
- ä¸åŒå¸å›½ä¹‹é—´çš„ä¸­ç«‹åœ°å¸¦
- å®‰å…¨çš„è´¸æ˜“åœºæ‰€ï¼Œæ²¡æœ‰é‡ç¨æˆ–æµ·ç›—å¨èƒï¼ˆå¤§éƒ¨åˆ†æ—¶å€™ï¼ï¼‰

**å¯¹æ¯”ï¼š**
æƒ³è±¡ä¸€ä¸‹ä»Šå¤©çš„**æ¨Ÿå®œæœºåœº** - å®ƒä¸ä»…ä»…æ˜¯ä¸€ä¸ªæœºåœºï¼Œæ›´æ˜¯è¿æ¥ä¸–ç•Œå„åœ°çš„**æ¢çº½**ã€‚æ·¡é©¬é”¡åœ¨14ä¸–çºªæ‰®æ¼”ç€åŒæ ·çš„è§’è‰²ï¼Œæ˜¯æµ·ä¸Šè´¸æ˜“çš„"æœºåœº"ï¼

**å†å²å»¶ç»­æ€§ï¼š**
æ–°åŠ å¡ä»Šå¤©çš„æˆåŠŸä½œä¸º**å…¨çƒèˆªè¿æ¢çº½**ä¸æ·¡é©¬é”¡700å¹´å‰çš„æˆ˜ç•¥ä½ç½®ç›´æ¥ç›¸å…³ã€‚åœ°ç†ä½ç½®åˆ›é€ äº†å‘½è¿ï¼""",
        
        "reflective-thinking-continuity": """**ä»æ·¡é©¬é”¡åˆ°ç°ä»£æ–°åŠ å¡ï¼š700å¹´çš„è´¸æ˜“ä¼ ç»Ÿ**

**æ”¹å˜äº†ä»€ä¹ˆï¼Ÿ**
- 14ä¸–çºªçš„å°å‹å¸†èˆ¹ â†’ ä»Šå¤©çš„å·¨å‹é›†è£…ç®±èˆ¹
- é¦™æ–™å’Œä¸ç»¸ â†’ ç”µå­äº§å“å’ŒçŸ³æ²¹
- æœ¨åˆ¶ç å¤´ â†’ ä¸–ç•Œä¸Šæœ€ç¹å¿™çš„æ¸¯å£ä¹‹ä¸€

**ä»€ä¹ˆä¿æŒä¸å˜ï¼Ÿ**
- **æˆ˜ç•¥åœ°ç†ä½ç½®**ä»ç„¶è‡³å…³é‡è¦
- é©¬å…­ç”²æµ·å³¡ä»ç„¶æ˜¯å…¨çƒè´¸æ˜“çš„é‡è¦é€šé“
- æ–°åŠ å¡ä»ç„¶æ˜¯**ä¸œè¥¿æ–¹çš„æ¡¥æ¢**

**ç°ä»£è”ç³»ï¼š**

**1. æ–°åŠ å¡æ¸¯**
- ä¸–ç•Œæœ€ç¹å¿™çš„è½¬è¿æ¸¯ä¹‹ä¸€
- æ¯å¹´å¤„ç†è¶…è¿‡3700ä¸‡ä¸ªé›†è£…ç®±
- è¿æ¥600å¤šä¸ªæ¸¯å£

**2. æ¨Ÿå®œæœºåœº**
- å…¨çƒæœ€ä½³æœºåœºï¼ˆå¤šæ¬¡è·å¥–ï¼‰
- ä¸œè¥¿æ–¹èˆªç­çš„ä¸»è¦æ¢çº½
- å»¶ç»­äº†"åœé ç‚¹"çš„ä¼ ç»Ÿ

**3. é‡‘èä¸­å¿ƒ**
- äºšæ´²çš„é“¶è¡Œå’Œè´¸æ˜“é‡‘èä¸­å¿ƒ
- è¿æ¥å…¨çƒå¸‚åœº

**æ€è€ƒé—®é¢˜ï¼š**
- æ·¡é©¬é”¡çš„å•†äººä¼šå¦‚ä½•çœ‹å¾…ä»Šå¤©çš„æ–°åŠ å¡ï¼Ÿ
- ä»€ä¹ˆå› ç´ ä½¿æ–°åŠ å¡åœ¨700å¹´åä»ç„¶ä¿æŒå…¶é‡è¦æ€§ï¼Ÿ
- æ–°åŠ å¡ä½œä¸ºå…¨çƒæ¢çº½çš„è§’è‰²åœ¨æœªæ¥ä¼šå¦‚ä½•æ¼”å˜ï¼Ÿ

**å›½æ°‘æ•™è‚²è”ç³»ï¼š**
- **ç»æµé˜²å«**ï¼šè´¸æ˜“å’Œè¿é€šæ€§å¯¹æ–°åŠ å¡çš„ç”Ÿå­˜è‡³å…³é‡è¦
- **æµ·äº‹é—äº§**ï¼šäº†è§£æ–°åŠ å¡çš„èˆªæµ·è¿‡å»æœ‰åŠ©äºå¡‘é€ å…¶æœªæ¥

æ–°åŠ å¡ä»ä¸€ä¸ªå°å‹è´¸æ˜“æ¸¯å£åˆ°ç°ä»£åŒ–å…¨çƒåŸå¸‚çš„æ—…ç¨‹ï¼Œå±•ç¤ºäº†åœ°ç†ä½ç½®ã€é€‚åº”èƒ½åŠ›å’Œæˆ˜ç•¥æ€ç»´å¦‚ä½•å¡‘é€ å†å²ã€‚"""
    }
    
    # Update the first chapter's sections
    updated_count = 0
    
    for chapter in history_subject['chapters']:
        if chapter['id'] == 'early-singapore-trading-networks':
            print(f"ğŸ“ Adding Chinese content to chapter: {chapter['title']}")
            
            for section in chapter.get('sections', []):
                section_id = section['id']
                if section_id in chinese_content:
                    section['content_zh'] = chinese_content[section_id]
                    updated_count += 1
                    print(f"   âœ… Added content_zh to section: {section['title']}")
    
    # Save updated content
    with open(content_path, 'w', encoding='utf-8') as f:
        json.dump(data, f, ensure_ascii=False, indent=2)
    
    print(f"\nğŸ‰ Integration complete!")
    print(f"ğŸ“Š Updated {updated_count} sections with Chinese content")
    print(f"ğŸ’¾ Saved to: {content_path}")

if __name__ == '__main__':
    add_chinese_content()
