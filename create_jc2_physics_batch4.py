#!/usr/bin/env python3
"""JC2 Physics Batch 4: Electromagnetic Induction + Alternating Current (25 exercises)"""
import json

with open('chapters/jc2_physics_chapters.json', 'r', encoding='utf-8') as f:
    chapters = json.load(f)

# Electromagnetic Induction - 13 exercises (4 easy + 5 medium + 4 hard)
em_induction = [
    {"id": "emi-jc2-ex1", "type": "mcq", "difficulty": "easy", "prompt": "Faraday's Law: Induced EMF = -dΦ/dt. Negative sign represents:", "prompt_zh": "法拉第定律：感应电动势=-dΦ/dt。负号表示：", "choices": ["Lenz's Law (opposition)", "Direction of B field", "Magnitude only", "Energy loss"], "choices_zh": ["楞次定律（反对）", "B场方向", "仅大小", "能量损失"], "answer": 0, "explanation": "**Problem:** Meaning of negative sign in Faraday's Law.\n\n**Key Concept:** Negative sign = Lenz's Law (induced current opposes change).\n\n**Steps:** The minus sign indicates that induced EMF creates current opposing the flux change that caused it.\n\n**Answer:** Lenz's Law (opposition).\n\n**Common Mistakes:** Thinking it's just magnitude or direction of B.\n\n**Tip:** Singapore's MRT regenerative braking opposes motion—converting kinetic energy back to electrical!", "explanation_zh": "**问题：** 法拉第定律中负号的含义。\n\n**关键概念：** 负号=楞次定律（感应电流反对变化）。\n\n**步骤：** 负号表示感应电动势产生的电流反对引起它的磁通量变化。\n\n**答案：** 楞次定律（反对）。\n\n**常见错误：** 认为只是大小或B的方向。\n\n**提示：** 新加坡地铁再生制动反对运动—将动能转换回电能！"},

    {"id": "emi-jc2-ex2", "type": "short", "difficulty": "easy", "prompt": "Magnetic flux Φ changes from 0.5Wb to 0.1Wb in 2s. Average induced EMF magnitude?", "prompt_zh": "磁通量Φ在2秒内从0.5韦伯变为0.1韦伯。平均感应电动势大小？", "answer": "0.2", "validator": "numeric", "explanation": "**Problem:** Calculate average induced EMF from flux change.\n\n**Key Concept:** EMF = |ΔΦ/Δt|\n\n**Steps:**\n1. ΔΦ = 0.1 - 0.5 = -0.4Wb\n2. Δt = 2s\n3. |EMF| = 0.4/2 = 0.2V\n\n**Answer:** 0.2V.\n\n**Common Mistakes:** Forgetting absolute value or wrong sign.\n\n**Tip:** Singapore's power transformers use this—changing flux induces voltage in secondary coil!", "explanation_zh": "**问题：** 从磁通量变化计算平均感应电动势。\n\n**关键概念：** 电动势=|ΔΦ/Δt|\n\n**步骤：**\n1. ΔΦ=0.1-0.5=-0.4韦伯\n2. Δt=2秒\n3. |电动势|=0.4/2=0.2伏\n\n**答案：** 0.2伏。\n\n**常见错误：** 忘记绝对值或符号错误。\n\n**提示：** 新加坡电力变压器使用这一点—变化的磁通量在副线圈中感应电压！"},

    {"id": "emi-jc2-ex3", "type": "mcq", "difficulty": "easy", "prompt": "Coil with N turns in changing flux. Induced EMF is:", "prompt_zh": "变化磁通量中的N匝线圈。感应电动势是：", "choices": ["N × (single turn EMF)", "Same as single turn", "N² × (single turn EMF)", "1/N × (single turn EMF)"], "choices_zh": ["N×（单匝电动势）", "与单匝相同", "N²×（单匝电动势）", "1/N×（单匝电动势）"], "answer": 0, "explanation": "**Problem:** Effect of multiple turns on induced EMF.\n\n**Key Concept:** EMF_total = N × EMF_single turn.\n\n**Steps:** Each turn contributes EMF. N turns in series → EMFs add.\n\n**Answer:** N × (single turn EMF).\n\n**Common Mistakes:** Thinking same as single turn.\n\n**Tip:** Transformers in Singapore substations use many turns to step up voltage efficiently!", "explanation_zh": "**问题：** 多匝对感应电动势的影响。\n\n**关键概念：** 总电动势=N×单匝电动势。\n\n**步骤：** 每匝贡献电动势。N匝串联→电动势相加。\n\n**答案：** N×（单匝电动势）。\n\n**常见错误：** 认为与单匝相同。\n\n**提示：** 新加坡变电站的变压器使用许多匝以有效升压！"},

    {"id": "emi-jc2-ex4", "type": "mcq", "difficulty": "easy", "prompt": "Generator converts:", "prompt_zh": "发电机转换：", "choices": ["Electrical to mechanical", "Mechanical to electrical", "Heat to electrical", "Light to electrical"], "choices_zh": ["电能到机械能", "机械能到电能", "热能到电能", "光能到电能"], "answer": 1, "explanation": "**Problem:** Energy conversion in generator.\n\n**Key Concept:** Generator: mechanical → electrical (EM induction).\n\n**Steps:** Rotating coil in B field → changing flux → induced EMF → electrical energy.\n\n**Answer:** Mechanical to electrical.\n\n**Common Mistakes:** Confusing with motor (electrical to mechanical).\n\n**Tip:** Singapore's Tuas Power plants use steam turbines to rotate generators producing electricity!", "explanation_zh": "**问题：** 发电机中的能量转换。\n\n**关键概念：** 发电机：机械能→电能（电磁感应）。\n\n**步骤：** B场中旋转线圈→变化磁通量→感应电动势→电能。\n\n**答案：** 机械能到电能。\n\n**常见错误：** 与电机混淆（电能到机械能）。\n\n**提示：** 新加坡大士电力厂使用蒸汽涡轮机旋转发电机产生电力！"},

    {"id": "emi-jc2-ex5", "type": "short", "difficulty": "medium", "prompt": "Transformer: V_s/V_p = N_s/N_p. Primary 240V, 100 turns. Secondary 12V. N_s?", "prompt_zh": "变压器：V_s/V_p=N_s/N_p。初级240伏，100匝。次级12伏。N_s？", "answer": "5", "validator": "numeric", "explanation": "**Problem:** Calculate secondary turns in transformer.\n\n**Key Concept:** V_s/V_p = N_s/N_p (ideal transformer).\n\n**Steps:**\n1. 12/240 = N_s/100\n2. N_s = 100 × 12/240\n3. N_s = 5 turns\n\n**Answer:** N_s = 5 turns.\n\n**Common Mistakes:** Inverting the ratio.\n\n**Tip:** Phone chargers in Singapore use step-down transformers—240V mains to 5V USB!", "explanation_zh": "**问题：** 计算变压器次级匝数。\n\n**关键概念：** V_s/V_p=N_s/N_p（理想变压器）。\n\n**步骤：**\n1. 12/240=N_s/100\n2. N_s=100×12/240\n3. N_s=5匝\n\n**答案：** N_s=5匝。\n\n**常见错误：** 倒置比率。\n\n**提示：** 新加坡手机充电器使用降压变压器—240伏电源到5伏USB！"},

    {"id": "emi-jc2-ex6", "type": "mcq", "difficulty": "medium", "prompt": "Ideal transformer: I_s/I_p = N_p/N_s. Step-down transformer (N_s < N_p):", "prompt_zh": "理想变压器：I_s/I_p=N_p/N_s。降压变压器（N_s<N_p）：", "choices": ["I_s < I_p", "I_s = I_p", "I_s > I_p", "Cannot determine"], "choices_zh": ["I_s<I_p", "I_s=I_p", "I_s>I_p", "无法确定"], "answer": 2, "explanation": "**Problem:** Current relationship in step-down transformer.\n\n**Key Concept:** Power conservation: V_p I_p = V_s I_s. If V_s < V_p, then I_s > I_p.\n\n**Steps:**\n1. Step-down: V_s < V_p\n2. Power in = Power out\n3. Therefore I_s > I_p\n\n**Answer:** I_s > I_p (current increases when voltage decreases).\n\n**Common Mistakes:** Thinking current also steps down.\n\n**Tip:** Welding equipment in Singapore workshops steps down voltage but increases current for melting metal!", "explanation_zh": "**问题：** 降压变压器中的电流关系。\n\n**关键概念：** 功率守恒：V_pI_p=V_sI_s。如果V_s<V_p，则I_s>I_p。\n\n**步骤：**\n1. 降压：V_s<V_p\n2. 输入功率=输出功率\n3. 因此I_s>I_p\n\n**答案：** I_s>I_p（电压降低时电流增加）。\n\n**常见错误：** 认为电流也降低。\n\n**提示：** 新加坡车间的焊接设备降低电压但增加电流以熔化金属！"},

    {"id": "emi-jc2-ex7", "type": "short", "difficulty": "medium", "prompt": "Self-inductance L. Current changes at 5A/s. Induced back-EMF = -L(dI/dt) = 2V. L in henrys?", "prompt_zh": "自感L。电流以5安/秒变化。感应反电动势=-L(dI/dt)=2伏。L（亨利）？", "answer": "0.4", "validator": "numeric", "explanation": "**Problem:** Calculate self-inductance from back-EMF.\n\n**Key Concept:** EMF = -L(dI/dt).\n\n**Steps:**\n1. |EMF| = L × |dI/dt|\n2. 2 = L × 5\n3. L = 2/5 = 0.4H\n\n**Answer:** L = 0.4H.\n\n**Common Mistakes:** Sign confusion or units.\n\n**Tip:** Inductors in Singapore's power supplies smooth current changes—higher L means more opposition!", "explanation_zh": "**问题：** 从反电动势计算自感。\n\n**关键概念：** 电动势=-L(dI/dt)。\n\n**步骤：**\n1. |电动势|=L×|dI/dt|\n2. 2=L×5\n3. L=2/5=0.4亨利\n\n**答案：** L=0.4亨利。\n\n**常见错误：** 符号混淆或单位。\n\n**提示：** 新加坡电源中的电感器平滑电流变化—更高的L意味着更多反对！"},

    {"id": "emi-jc2-ex8", "type": "mcq", "difficulty": "medium", "prompt": "Energy stored in inductor: W = (1/2)LI². If current doubles:", "prompt_zh": "电感器中储存的能量：W=(1/2)LI²。如果电流加倍：", "choices": ["W doubles", "W quadruples", "W halves", "W stays same"], "choices_zh": ["W加倍", "W变四倍", "W减半", "W保持不变"], "answer": 1, "explanation": "**Problem:** Energy change when current changes.\n\n**Key Concept:** W ∝ I².\n\n**Steps:**\n1. W = (1/2)LI²\n2. If I → 2I, then W → (1/2)L(2I)² = 4W\n\n**Answer:** W quadruples (×4).\n\n**Common Mistakes:** Thinking linear relationship.\n\n**Tip:** MRT's regenerative braking stores energy in inductors—higher current means much more stored energy!", "explanation_zh": "**问题：** 电流变化时的能量变化。\n\n**关键概念：** W∝I²。\n\n**步骤：**\n1. W=(1/2)LI²\n2. 如果I→2I，则W→(1/2)L(2I)²=4W\n\n**答案：** W变四倍（×4）。\n\n**常见错误：** 认为线性关系。\n\n**提示：** 地铁再生制动在电感器中储能—更高电流意味着储存更多能量！"},

    {"id": "emi-jc2-ex9", "type": "short", "difficulty": "hard", "prompt": "Eddy currents oppose motion (Lenz's Law). Copper plate falls through B field. What happens to KE?", "prompt_zh": "涡流反对运动（楞次定律）。铜板穿过B场下落。动能会怎样？", "answer": "converts to heat", "validator": "smart", "explanation": "**Problem:** Energy transformation with eddy currents.\n\n**Key Concept:** Eddy currents dissipate KE as heat (resistance).\n\n**Steps:**\n1. Moving conductor in B field → induced eddy currents\n2. Currents create opposing force (Lenz)\n3. Work done against force → heat (I²R losses)\n\n**Answer:** Kinetic energy converts to heat.\n\n**Common Mistakes:** Not recognizing energy dissipation.\n\n**Tip:** Singapore's MRT braking systems use eddy current brakes—smooth, wear-free braking!", "explanation_zh": "**问题：** 涡流的能量转换。\n\n**关键概念：** 涡流将动能耗散为热（电阻）。\n\n**步骤：**\n1. B场中移动导体→感应涡流\n2. 电流产生反对力（楞次）\n3. 对抗力做功→热（I²R损失）\n\n**答案：** 动能转换为热。\n\n**常见错误：** 未认识到能量耗散。\n\n**提示：** 新加坡地铁制动系统使用涡流制动器—平滑、无磨损制动！"},

    {"id": "emi-jc2-ex10", "type": "mcq", "difficulty": "hard", "prompt": "Mutual inductance M between two coils. EMF₂ induced in coil 2 when I₁ changes:", "prompt_zh": "两个线圈之间的互感M。当I₁变化时在线圈2中感应的电动势₂：", "choices": ["M × I₁", "M × dI₁/dt", "-M × dI₁/dt", "M/I₁"], "choices_zh": ["M×I₁", "M×dI₁/dt", "-M×dI₁/dt", "M/I₁"], "answer": 2, "explanation": "**Problem:** Mutual inductance formula.\n\n**Key Concept:** EMF₂ = -M(dI₁/dt).\n\n**Steps:**\n1. Changing I₁ creates changing Φ through coil 2\n2. Induced EMF₂ proportional to rate of change\n3. Sign from Lenz's Law\n\n**Answer:** -M × dI₁/dt.\n\n**Common Mistakes:** Using I₁ instead of dI₁/dt.\n\n**Tip:** Wireless charging pads in Singapore use mutual inductance to transfer power between coils!", "explanation_zh": "**问题：** 互感公式。\n\n**关键概念：** 电动势₂=-M(dI₁/dt)。\n\n**步骤：**\n1. 变化的I₁通过线圈2产生变化的Φ\n2. 感应电动势₂与变化率成正比\n3. 符号来自楞次定律\n\n**答案：** -M×dI₁/dt。\n\n**常见错误：** 使用I₁而不是dI₁/dt。\n\n**提示：** 新加坡无线充电板使用互感在线圈之间传输功率！"},

    {"id": "emi-jc2-ex11", "type": "short", "difficulty": "hard", "prompt": "Solenoid (L=μ₀n²Al). If turns per unit length n doubles, inductance L changes by factor:", "prompt_zh": "螺线管（L=μ₀n²Al）。如果单位长度匝数n加倍，电感L变化因子：", "answer": "4", "validator": "numeric", "explanation": "**Problem:** Inductance dependence on turns density.\n\n**Key Concept:** L ∝ n².\n\n**Steps:**\n1. L = μ₀n²Al\n2. If n → 2n, then L → μ₀(2n)²Al = 4L\n\n**Answer:** Factor of 4 (quadruples).\n\n**Common Mistakes:** Thinking linear relationship (factor of 2).\n\n**Tip:** Electromagnets in Singapore's industrial equipment—doubling coil density quadruples inductance!", "explanation_zh": "**问题：** 电感对匝数密度的依赖性。\n\n**关键概念：** L∝n²。\n\n**步骤：**\n1. L=μ₀n²Al\n2. 如果n→2n，则L→μ₀(2n)²Al=4L\n\n**答案：** 因子4（变四倍）。\n\n**常见错误：** 认为线性关系（因子2）。\n\n**提示：** 新加坡工业设备中的电磁铁—线圈密度加倍电感变四倍！"},

    {"id": "emi-jc2-ex12", "type": "mcq", "difficulty": "hard", "prompt": "Back-EMF in motor opposes applied voltage. As motor speeds up, back-EMF:", "prompt_zh": "电机中的反电动势反对施加电压。随着电机加速，反电动势：", "choices": ["Decreases", "Stays constant", "Increases", "Becomes zero"], "choices_zh": ["减少", "保持不变", "增加", "变为零"], "answer": 2, "explanation": "**Problem:** Back-EMF behavior in motor.\n\n**Key Concept:** Back-EMF ∝ angular velocity (ω).\n\n**Steps:**\n1. Faster rotation → faster flux change\n2. EMF = -dΦ/dt increases with speed\n3. Back-EMF opposes applied voltage\n\n**Answer:** Increases (reduces net current as speed increases).\n\n**Common Mistakes:** Thinking it decreases or stays constant.\n\n**Tip:** MRT motors draw high current at startup (low back-EMF), less when cruising (high back-EMF)!", "explanation_zh": "**问题：** 电机中反电动势的行为。\n\n**关键概念：** 反电动势∝角速度（ω）。\n\n**步骤：**\n1. 更快旋转→更快磁通量变化\n2. 电动势=-dΦ/dt随速度增加\n3. 反电动势反对施加电压\n\n**答案：** 增加（随速度增加减少净电流）。\n\n**常见错误：** 认为它减少或保持不变。\n\n**提示：** 地铁电机启动时电流大（低反电动势），巡航时小（高反电动势）！"},

    {"id": "emi-jc2-ex13", "type": "short", "difficulty": "hard", "prompt": "Transformer efficiency = (V_s I_s)/(V_p I_p) × 100%. Input 240V, 2A. Output 12V, 38A. Efficiency %?", "prompt_zh": "变压器效率=(V_sI_s)/(V_pI_p)×100%。输入240伏，2安。输出12伏，38安。效率%？", "answer": "95", "validator": "numeric", "explanation": "**Problem:** Calculate transformer efficiency.\n\n**Key Concept:** Efficiency = P_out/P_in × 100%.\n\n**Steps:**\n1. P_in = V_p I_p = 240 × 2 = 480W\n2. P_out = V_s I_s = 12 × 38 = 456W\n3. Efficiency = 456/480 × 100% = 95%\n\n**Answer:** 95%.\n\n**Common Mistakes:** Calculation errors or using voltage ratio.\n\n**Tip:** Singapore's power grid transformers are 95-99% efficient—minimal energy lost as heat!", "explanation_zh": "**问题：** 计算变压器效率。\n\n**关键概念：** 效率=P输出/P输入×100%。\n\n**步骤：**\n1. P输入=V_pI_p=240×2=480瓦\n2. P输出=V_sI_s=12×38=456瓦\n3. 效率=456/480×100%=95%\n\n**答案：** 95%。\n\n**常见错误：** 计算错误或使用电压比。\n\n**提示：** 新加坡电网变压器效率95-99%—最少能量作为热损失！"}
]

# Alternating Current - 12 exercises (3 easy + 5 medium + 4 hard)
ac_current = [
    {"id": "ac-jc2-ex1", "type": "mcq", "difficulty": "easy", "prompt": "Singapore AC mains frequency:", "prompt_zh": "新加坡交流电源频率：", "choices": ["50 Hz", "60 Hz", "100 Hz", "120 Hz"], "choices_zh": ["50赫兹", "60赫兹", "100赫兹", "120赫兹"], "answer": 0, "explanation": "**Problem:** Singapore AC frequency standard.\n\n**Key Concept:** Singapore uses 50Hz (like most of world except US/Canada).\n\n**Steps:** Singapore Power Grid operates at 230V RMS, 50Hz.\n\n**Answer:** 50 Hz.\n\n**Common Mistakes:** Thinking 60Hz (US standard).\n\n**Tip:** All Singapore appliances designed for 50Hz—using 60Hz devices may cause issues!", "explanation_zh": "**问题：** 新加坡交流电频率标准。\n\n**关键概念：** 新加坡使用50赫兹（像世界大多数地区除了美国/加拿大）。\n\n**步骤：** 新加坡电网运行在230伏有效值，50赫兹。\n\n**答案：** 50赫兹。\n\n**常见错误：** 认为60赫兹（美国标准）。\n\n**提示：** 所有新加坡电器为50赫兹设计—使用60赫兹设备可能引起问题！"},

    {"id": "ac-jc2-ex2", "type": "short", "difficulty": "easy", "prompt": "RMS voltage = peak voltage / √2. Peak voltage 325V. RMS voltage?", "prompt_zh": "有效电压=峰值电压/√2。峰值电压325伏。有效电压？", "answer": "230", "validator": "numeric", "explanation": "**Problem:** Calculate RMS from peak voltage.\n\n**Key Concept:** V_RMS = V₀/√2.\n\n**Steps:**\n1. V_RMS = 325/√2\n2. V_RMS = 325/1.414\n3. V_RMS ≈ 230V\n\n**Answer:** 230V (Singapore standard).\n\n**Common Mistakes:** Using V₀ directly.\n\n**Tip:** Singapore outlets provide 230V RMS but peak voltage reaches ±325V!", "explanation_zh": "**问题：** 从峰值电压计算有效值。\n\n**关键概念：** V有效=V₀/√2。\n\n**步骤：**\n1. V有效=325/√2\n2. V有效=325/1.414\n3. V有效≈230伏\n\n**答案：** 230伏（新加坡标准）。\n\n**常见错误：** 直接使用V₀。\n\n**提示：** 新加坡插座提供230伏有效值但峰值电压达到±325伏！"},

    {"id": "ac-jc2-ex3", "type": "mcq", "difficulty": "easy", "prompt": "Period T and frequency f relationship:", "prompt_zh": "周期T和频率f的关系：", "choices": ["T = f", "T = 1/f", "T = 2πf", "T = f²"], "choices_zh": ["T=f", "T=1/f", "T=2πf", "T=f²"], "answer": 1, "explanation": "**Problem:** Period-frequency relationship.\n\n**Key Concept:** T = 1/f (inverse relationship).\n\n**Steps:** Period = time for one cycle. Frequency = cycles per second. Therefore T = 1/f.\n\n**Answer:** T = 1/f.\n\n**Common Mistakes:** Confusing with angular frequency ω = 2πf.\n\n**Tip:** Singapore 50Hz power means T = 1/50 = 20ms per cycle!", "explanation_zh": "**问题：** 周期-频率关系。\n\n**关键概念：** T=1/f（反比关系）。\n\n**步骤：** 周期=一个周期的时间。频率=每秒周期数。因此T=1/f。\n\n**答案：** T=1/f。\n\n**常见错误：** 与角频率ω=2πf混淆。\n\n**提示：** 新加坡50赫兹电力意味着T=1/50=20毫秒每周期！"},

    {"id": "ac-jc2-ex4", "type": "short", "difficulty": "medium", "prompt": "Capacitive reactance X_C = 1/(2πfC). f=50Hz, C=100μF. X_C in ohms?", "prompt_zh": "容抗X_C=1/(2πfC)。f=50赫兹，C=100微法。X_C（欧姆）？", "answer": "31.8", "validator": "numeric", "explanation": "**Problem:** Calculate capacitive reactance.\n\n**Key Concept:** X_C = 1/(2πfC).\n\n**Steps:**\n1. C = 100μF = 10⁻⁴F\n2. X_C = 1/(2π × 50 × 10⁻⁴)\n3. X_C = 1/0.0314 ≈ 31.8Ω\n\n**Answer:** X_C ≈ 31.8Ω.\n\n**Common Mistakes:** Unit conversion or calculation errors.\n\n**Tip:** Capacitors in Singapore's power supplies—higher frequency means lower X_C (easier AC flow)!", "explanation_zh": "**问题：** 计算容抗。\n\n**关键概念：** X_C=1/(2πfC)。\n\n**步骤：**\n1. C=100微法=10⁻⁴法\n2. X_C=1/(2π×50×10⁻⁴)\n3. X_C=1/0.0314≈31.8欧\n\n**答案：** X_C≈31.8欧。\n\n**常见错误：** 单位转换或计算错误。\n\n**提示：** 新加坡电源中的电容器—更高频率意味着更低X_C（更容易交流流动）！"},

    {"id": "ac-jc2-ex5", "type": "mcq", "difficulty": "medium", "prompt": "Inductive reactance X_L = 2πfL. If frequency doubles:", "prompt_zh": "感抗X_L=2πfL。如果频率加倍：", "choices": ["X_L halves", "X_L stays same", "X_L doubles", "X_L quadruples"], "choices_zh": ["X_L减半", "X_L保持不变", "X_L加倍", "X_L变四倍"], "answer": 2, "explanation": "**Problem:** Inductive reactance dependence on frequency.\n\n**Key Concept:** X_L ∝ f (linear relationship).\n\n**Steps:**\n1. X_L = 2πfL\n2. If f → 2f, then X_L → 2(2πfL) = 2X_L\n\n**Answer:** X_L doubles.\n\n**Common Mistakes:** Thinking quadratic relationship.\n\n**Tip:** Inductors in Singapore's filters block high frequencies—higher f means higher X_L!", "explanation_zh": "**问题：** 感抗对频率的依赖性。\n\n**关键概念：** X_L∝f（线性关系）。\n\n**步骤：**\n1. X_L=2πfL\n2. 如果f→2f，则X_L→2(2πfL)=2X_L\n\n**答案：** X_L加倍。\n\n**常见错误：** 认为二次关系。\n\n**提示：** 新加坡滤波器中的电感器阻止高频—更高f意味着更高X_L！"},

    {"id": "ac-jc2-ex6", "type": "short", "difficulty": "medium", "prompt": "RLC series: Z = √(R² + (X_L - X_C)²). R=30Ω, X_L=50Ω, X_C=10Ω. Impedance Z?", "prompt_zh": "RLC串联：Z=√(R²+(X_L-X_C)²)。R=30欧，X_L=50欧，X_C=10欧。阻抗Z？", "answer": "50", "validator": "numeric", "explanation": "**Problem:** Calculate impedance of series RLC circuit.\n\n**Key Concept:** Z = √(R² + (X_L - X_C)²).\n\n**Steps:**\n1. X_L - X_C = 50 - 10 = 40Ω\n2. Z = √(30² + 40²)\n3. Z = √(900 + 1600) = √2500 = 50Ω\n\n**Answer:** Z = 50Ω.\n\n**Common Mistakes:** Adding reactances to R directly (not using Pythagorean theorem).\n\n**Tip:** Singapore's power factor correction circuits adjust X_L and X_C to minimize Z!", "explanation_zh": "**问题：** 计算串联RLC电路的阻抗。\n\n**关键概念：** Z=√(R²+(X_L-X_C)²)。\n\n**步骤：**\n1. X_L-X_C=50-10=40欧\n2. Z=√(30²+40²)\n3. Z=√(900+1600)=√2500=50欧\n\n**答案：** Z=50欧。\n\n**常见错误：** 直接将电抗加到R（不使用勾股定理）。\n\n**提示：** 新加坡功率因数校正电路调整X_L和X_C以最小化Z！"},

    {"id": "ac-jc2-ex7", "type": "mcq", "difficulty": "medium", "prompt": "Resonance in series RLC occurs when:", "prompt_zh": "串联RLC中的共振发生在：", "choices": ["X_L = 0", "X_C = 0", "X_L = X_C", "R = 0"], "choices_zh": ["X_L=0", "X_C=0", "X_L=X_C", "R=0"], "answer": 2, "explanation": "**Problem:** Resonance condition in series RLC.\n\n**Key Concept:** Resonance when X_L = X_C → Z = R (minimum).\n\n**Steps:**\n1. At resonance: X_L - X_C = 0\n2. Therefore X_L = X_C\n3. Z = R (purely resistive)\n\n**Answer:** X_L = X_C.\n\n**Common Mistakes:** Thinking one reactance becomes zero.\n\n**Tip:** Radio tuning in Singapore uses LC resonance—adjust C to match X_L at desired frequency!", "explanation_zh": "**问题：** 串联RLC中的共振条件。\n\n**关键概念：** 共振当X_L=X_C→Z=R（最小）。\n\n**步骤：**\n1. 共振时：X_L-X_C=0\n2. 因此X_L=X_C\n3. Z=R（纯电阻）\n\n**答案：** X_L=X_C。\n\n**常见错误：** 认为一个电抗变为零。\n\n**提示：** 新加坡无线电调谐使用LC共振—调整C以匹配所需频率的X_L！"},

    {"id": "ac-jc2-ex8", "type": "short", "difficulty": "medium", "prompt": "Power factor cos φ = R/Z. R=60Ω, Z=100Ω. Power factor?", "prompt_zh": "功率因数cos φ=R/Z。R=60欧，Z=100欧。功率因数？", "answer": "0.6", "validator": "numeric", "explanation": "**Problem:** Calculate power factor.\n\n**Key Concept:** cos φ = R/Z.\n\n**Steps:**\n1. cos φ = 60/100\n2. cos φ = 0.6\n\n**Answer:** 0.6 (or 60%).\n\n**Common Mistakes:** Using Z/R instead.\n\n**Tip:** Singapore industries aim for power factor >0.85—poor power factor wastes energy and incurs penalties!", "explanation_zh": "**问题：** 计算功率因数。\n\n**关键概念：** cos φ=R/Z。\n\n**步骤：**\n1. cos φ=60/100\n2. cos φ=0.6\n\n**答案：** 0.6（或60%）。\n\n**常见错误：** 使用Z/R。\n\n**提示：** 新加坡工业目标功率因数>0.85—差功率因数浪费能源并招致罚款！"},

    {"id": "ac-jc2-ex9", "type": "short", "difficulty": "hard", "prompt": "Resonant frequency f₀ = 1/(2π√(LC)). L=0.1H, C=100μF. f₀ in Hz?", "prompt_zh": "谐振频率f₀=1/(2π√(LC))。L=0.1亨利，C=100微法。f₀（赫兹）？", "answer": "50.3", "validator": "numeric", "explanation": "**Problem:** Calculate resonant frequency of LC circuit.\n\n**Key Concept:** f₀ = 1/(2π√(LC)).\n\n**Steps:**\n1. C = 100μF = 10⁻⁴F\n2. √(LC) = √(0.1 × 10⁻⁴) = √(10⁻⁵) = 3.16×10⁻³\n3. f₀ = 1/(2π × 3.16×10⁻³) ≈ 50.3Hz\n\n**Answer:** f₀ ≈ 50.3Hz.\n\n**Common Mistakes:** Unit conversion or calculation errors.\n\n**Tip:** Close to Singapore's 50Hz grid frequency—LC filters designed to resonate near mains frequency!", "explanation_zh": "**问题：** 计算LC电路的谐振频率。\n\n**关键概念：** f₀=1/(2π√(LC))。\n\n**步骤：**\n1. C=100微法=10⁻⁴法\n2. √(LC)=√(0.1×10⁻⁴)=√(10⁻⁵)=3.16×10⁻³\n3. f₀=1/(2π×3.16×10⁻³)≈50.3赫兹\n\n**答案：** f₀≈50.3赫兹。\n\n**常见错误：** 单位转换或计算错误。\n\n**提示：** 接近新加坡50赫兹电网频率—LC滤波器设计为接近电源频率共振！"},

    {"id": "ac-jc2-ex10", "type": "mcq", "difficulty": "hard", "prompt": "Quality factor Q = X_L/R = X_C/R at resonance. High Q means:", "prompt_zh": "品质因数Q=X_L/R=X_C/R在共振时。高Q意味着：", "choices": ["Broad resonance peak", "High power loss", "Sharp resonance peak", "Low selectivity"], "choices_zh": ["宽共振峰", "高功率损失", "尖锐共振峰", "低选择性"], "answer": 2, "explanation": "**Problem:** Meaning of quality factor Q.\n\n**Key Concept:** High Q → sharp resonance, narrow bandwidth.\n\n**Steps:**\n1. Q = (reactance)/(resistance)\n2. High Q → low R → low damping\n3. Sharp, narrow resonance peak\n\n**Answer:** Sharp resonance peak (high selectivity).\n\n**Common Mistakes:** Thinking high Q means broad peak.\n\n**Tip:** High-Q LC filters in Singapore's communication systems provide excellent frequency selectivity!", "explanation_zh": "**问题：** 品质因数Q的含义。\n\n**关键概念：** 高Q→尖锐共振，窄带宽。\n\n**步骤：**\n1. Q=（电抗）/（电阻）\n2. 高Q→低R→低阻尼\n3. 尖锐、窄共振峰\n\n**答案：** 尖锐共振峰（高选择性）。\n\n**常见错误：** 认为高Q意味着宽峰。\n\n**提示：** 新加坡通信系统中的高Q LC滤波器提供出色的频率选择性！"},

    {"id": "ac-jc2-ex11", "type": "short", "difficulty": "hard", "prompt": "Average power P_avg = V_RMS I_RMS cos φ. V=230V, I=5A, cos φ=0.8. P_avg in watts?", "prompt_zh": "平均功率P平均=V有效I有效cos φ。V=230伏，I=5安，cos φ=0.8。P平均（瓦）？", "answer": "920", "validator": "numeric", "explanation": "**Problem:** Calculate average power in AC circuit.\n\n**Key Concept:** P_avg = V_RMS I_RMS cos φ.\n\n**Steps:**\n1. P_avg = 230 × 5 × 0.8\n2. P_avg = 920W\n\n**Answer:** 920W.\n\n**Common Mistakes:** Forgetting power factor cos φ.\n\n**Tip:** Singapore utility bills charge for real power (kWh)—poor power factor means paying for more current!", "explanation_zh": "**问题：** 计算交流电路中的平均功率。\n\n**关键概念：** P平均=V有效I有效cos φ。\n\n**步骤：**\n1. P平均=230×5×0.8\n2. P平均=920瓦\n\n**答案：** 920瓦。\n\n**常见错误：** 忘记功率因数cos φ。\n\n**提示：** 新加坡水电费按实际功率（千瓦时）收费—差功率因数意味着为更多电流付费！"},

    {"id": "ac-jc2-ex12", "type": "mcq", "difficulty": "hard", "prompt": "Phasor diagram: V_R in phase with I. In series RLC, if I leads V:", "prompt_zh": "相量图：V_R与I同相。在串联RLC中，如果I超前V：", "choices": ["X_L > X_C (inductive)", "X_C > X_L (capacitive)", "X_L = X_C (resonance)", "Circuit is purely resistive"], "choices_zh": ["X_L>X_C（感性）", "X_C>X_L（容性）", "X_L=X_C（共振）", "电路纯电阻"], "answer": 1, "explanation": "**Problem:** Determine circuit nature from phase relationship.\n\n**Key Concept:** I leads V → capacitive (X_C > X_L).\n\n**Steps:**\n1. Capacitors: I leads V by 90°\n2. Inductors: I lags V by 90°\n3. If net I leads V → capacitive dominates\n\n**Answer:** X_C > X_L (capacitive circuit).\n\n**Common Mistakes:** Confusing lead/lag relationships.\n\n**Tip:** Power factor correction in Singapore adds capacitors to cancel inductive lag from motors!", "explanation_zh": "**问题：** 从相位关系确定电路性质。\n\n**关键概念：** I超前V→容性（X_C>X_L）。\n\n**步骤：**\n1. 电容器：I超前V 90°\n2. 电感器：I滞后V 90°\n3. 如果净I超前V→容性主导\n\n**答案：** X_C>X_L（容性电路）。\n\n**常见错误：** 混淆超前/滞后关系。\n\n**提示：** 新加坡功率因数校正添加电容器以抵消电机的感性滞后！"}
]

for ch in chapters:
    if ch['id'] == 'electromagnetic-induction-jc2-physics':
        ch['exercises'] = em_induction
        print(f"✓ Added {len(em_induction)} exercises to Electromagnetic Induction")
    elif ch['id'] == 'alternating-current-jc2-physics':
        ch['exercises'] = ac_current
        print(f"✓ Added {len(ac_current)} exercises to Alternating Current")

with open('chapters/jc2_physics_chapters.json', 'w', encoding='utf-8') as f:
    json.dump(chapters, f, ensure_ascii=False, indent=2)

print(f"\n✅ Batch 4 Complete: 25 exercises added (EM Induction: 13 + AC: 12)")
print(f"   Total so far: 40 + 25 = 65 exercises")
